# SmartFarmer v2.0 - Marketplace Platform

**Fastwork ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£** - ‡πÅ‡∏û‡∏•‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏° Marketplace ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏à‡πâ‡∏≤‡∏á‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç ‡πÄ‡∏ä‡πà‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£ ‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ü‡∏≤‡∏£‡πå‡∏°‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û

---

## üéØ ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏ö‡∏ö

### **User Roles (5 ‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó)**

1. **‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£ (Farmer)** - ‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏á‡∏≤‡∏ô, ‡πÄ‡∏ä‡πà‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£, ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô
2. **‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏à‡πâ‡∏≤‡∏á (Service Provider)** - ‡∏´‡∏≤‡∏á‡∏≤‡∏ô, ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠, ‡∏£‡∏±‡∏ö‡∏£‡∏µ‡∏ß‡∏¥‡∏ß
3. **‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£ (Equipment Owner)** - ‡πÉ‡∏´‡πâ‡πÄ‡∏ä‡πà‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£
4. **‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô (Admin)** - ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏ö, ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô
5. **‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÄ‡∏™‡∏£‡∏¥‡∏° (Extension Officer)** - ‡∏≠‡∏≠‡∏Å‡πÉ‡∏ö‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á, ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£

### **Core Features**

- ‚úÖ **Job Marketplace** - ‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏á‡∏≤‡∏ô, ‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏à‡πâ‡∏≤‡∏á‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô
- ‚úÖ **Equipment Rental** - ‡πÄ‡∏ä‡πà‡∏≤‡πÇ‡∏î‡∏£‡∏ô, ‡∏£‡∏ñ‡πÑ‡∏ñ, ‡∏£‡∏ñ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß, ‡∏õ‡∏±‡πä‡∏°‡∏ô‡πâ‡∏≥
- ‚úÖ **Farm Calendar** - ‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô‡πÄ‡∏û‡∏≤‡∏∞‡∏õ‡∏•‡∏π‡∏Å‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏°‡∏û‡∏∑‡∏ä
- ‚úÖ **Review & Rating** - ‡∏£‡∏µ‡∏ß‡∏¥‡∏ß 2 ‡∏ó‡∏≤‡∏á (‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£ ‚Üî ‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏à‡πâ‡∏≤‡∏á)
- ‚úÖ **In-app Chat** - ‡πÅ‡∏ä‡∏ó‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
- üîÑ **Gov API Integration** - ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏®, ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏û‡∏∑‡∏ä
- üîÑ **Payment Gateway** - PromptPay, Cards
- üîÑ **LINE Integration** - LIFF + Chatbot + Notify

---

## üìÅ ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ

```
drone-booking-service/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ farmer/           # ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ post-job/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ my-jobs/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ equipment/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ calendar/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ messages/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ profile/
‚îÇ   ‚îú‚îÄ‚îÄ provider/         # ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏à‡πâ‡∏≤‡∏á
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ browse-jobs/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ my-proposals/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ earnings/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ profile/
‚îÇ   ‚îú‚îÄ‚îÄ owner/            # ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ equipment/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ bookings/
‚îÇ   ‚îú‚îÄ‚îÄ admin/            # Dashboard ‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô
‚îÇ   ‚îî‚îÄ‚îÄ api/              # API Routes
‚îÇ       ‚îú‚îÄ‚îÄ jobs/
‚îÇ       ‚îú‚îÄ‚îÄ proposals/
‚îÇ       ‚îú‚îÄ‚îÄ service-providers/
‚îÇ       ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ agriconnect-v2-migration.sql      # Migration script
‚îÇ   ‚îî‚îÄ‚îÄ agriconnect-v2-rls-policies.sql   # RLS policies
‚îî‚îÄ‚îÄ components/           # Shared components
```

---

## üöÄ ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ô

### **Prerequisites**

- Node.js 18+
- npm ‡∏´‡∏£‡∏∑‡∏≠ yarn
- Supabase account
- Git

### **Step 1: Clone Repository**

```bash
cd D:\project\drone-booking-service
git pull  # ‡∏´‡∏£‡∏∑‡∏≠ clone ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ
```

### **Step 2: Install Dependencies**

```bash
npm install
```

### **Step 3: Setup Supabase**

#### 3.1 Create Supabase Project

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà [https://supabase.com](https://supabase.com)
2. ‡∏™‡∏£‡πâ‡∏≤‡∏á Project ‡πÉ‡∏´‡∏°‡πà ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ project ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà
3. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Settings** ‚Üí **API** ‚Üí ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å:
   - `Project URL` (NEXT_PUBLIC_SUPABASE_URL)
   - `anon public key` (NEXT_PUBLIC_SUPABASE_ANON_KEY)
   - `service_role key` (SUPABASE_SERVICE_ROLE_KEY)

#### 3.2 Configure Environment Variables

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.env.local`:

```env
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
```

#### 3.3 Run Migration Scripts

1. ‡πÄ‡∏õ‡∏¥‡∏î **Supabase Dashboard** ‚Üí **SQL Editor**
2. ‡∏£‡∏±‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö:

**‡∏Ç‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏£‡∏±‡∏ô Migration**
```sql
-- ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå
scripts/agriconnect-v2-migration.sql
```

**‡∏Ç‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏£‡∏±‡∏ô RLS Policies**
```sql
-- ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå
scripts/agriconnect-v2-rls-policies.sql
```

**‡∏Ç‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà 3: ‡πÄ‡∏û‡∏¥‡πà‡∏° Helper Function (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö proposal count)**
```sql
CREATE OR REPLACE FUNCTION increment_proposal_count(job_id UUID)
RETURNS void AS $$
BEGIN
    UPDATE job_postings
    SET proposal_count = COALESCE(proposal_count, 0) + 1
    WHERE id = job_id;
END;
$$ LANGUAGE plpgsql;
```

#### 3.4 Verify Migration

‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ tables ‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏£‡∏ö:

```sql
SELECT table_name
FROM information_schema.tables
WHERE table_schema = 'public'
ORDER BY table_name;
```

‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô tables ‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ:
- ‚úÖ service_providers
- ‚úÖ farm_profiles
- ‚úÖ job_postings
- ‚úÖ proposals
- ‚úÖ reviews
- ‚úÖ farm_calendar
- ‚úÖ crop_schedules
- ‚úÖ messages
- ‚úÖ gov_api_cache

### **Step 4: Run Development Server**

```bash
npm run dev
```

‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå: [http://localhost:3000](http://localhost:3000)

---

## üì± ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏ó‡∏µ‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### **‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£ (Farmer)**

1. `/farmer/dashboard` - Dashboard ‡∏´‡∏•‡∏±‡∏Å (‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ + ‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô + ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô)
2. `/farmer/post-job` - ‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏á‡∏≤‡∏ô‡∏´‡∏≤‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏à‡πâ‡∏≤‡∏á
3. `/farmer/my-jobs` - ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÇ‡∏û‡∏™‡∏ï‡πå + ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠
4. `/farmer/equipment` - ‡πÄ‡∏ä‡πà‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£ (‡πÉ‡∏ä‡πâ‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏°)
5. `/farmer/calendar` - ‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô‡πÄ‡∏û‡∏≤‡∏∞‡∏õ‡∏•‡∏π‡∏Å (TODO)
6. `/farmer/messages` - ‡πÅ‡∏ä‡∏ó (TODO)
7. `/farmer/profile` - ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå (TODO)

### **‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏à‡πâ‡∏≤‡∏á (Provider)**

1. `/provider/dashboard` - Dashboard (‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ + ‡∏á‡∏≤‡∏ô‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)
2. `/provider/browse-jobs` - ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏á‡∏≤‡∏ô + ‡∏ü‡∏¥‡∏•‡πÄ‡∏ï‡∏≠‡∏£‡πå
3. `/provider/my-proposals` - ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô (TODO)
4. `/provider/earnings` - ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ (TODO)
5. `/provider/profile` - ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå + Portfolio (TODO)

### **‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô (Admin)**

- `/admin/dashboard` - ‡πÉ‡∏ä‡πâ‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏° (‡∏à‡∏∞‡∏Ç‡∏¢‡∏≤‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°)

---

## üõ†Ô∏è API Endpoints

### **Jobs API**

```typescript
// GET /api/jobs - ‡∏î‡∏∂‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
GET /api/jobs?status=open&job_type=‡∏û‡πà‡∏ô‡∏¢‡∏≤&province=‡∏ô‡∏Ñ‡∏£‡∏£‡∏≤‡∏ä‡∏™‡∏µ‡∏°‡∏≤

// POST /api/jobs - ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà
POST /api/jobs
Body: {
  farmer_id, job_type, title, description,
  area_size, budget_min, budget_max, ...
}

// GET /api/jobs/[id] - ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏á‡∏≤‡∏ô + ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠
GET /api/jobs/abc123

// DELETE /api/jobs/[id] - ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏á‡∏≤‡∏ô
DELETE /api/jobs/abc123
```

### **Proposals API**

```typescript
// GET /api/proposals - ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠
GET /api/proposals?provider_id=xxx
GET /api/proposals?job_id=xxx

// POST /api/proposals - ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÉ‡∏´‡∏°‡πà
POST /api/proposals
Body: {
  job_id, provider_id, price,
  estimated_duration, description
}

// PATCH /api/proposals - ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥/‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠
PATCH /api/proposals
Body: { id, status: 'accepted' | 'rejected' }
```

### **Service Providers API**

```typescript
// GET /api/service-providers - ‡∏î‡∏∂‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£
GET /api/service-providers?service_type=‡∏û‡πà‡∏ô‡∏¢‡∏≤&verified=true

// POST /api/service-providers - ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå
POST /api/service-providers
Body: {
  user_id, service_types[], hourly_rate,
  certifications[], bio, ...
}
```

---

## üóÑÔ∏è Database Schema

### **‡∏´‡∏•‡∏±‡∏Å‡πÜ ‡∏°‡∏µ 10 Tables ‡πÉ‡∏´‡∏°‡πà:**

1. **service_providers** - ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏ú‡∏π‡πâ‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£
2. **farm_profiles** - ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏ü‡∏≤‡∏£‡πå‡∏°
3. **job_postings** - ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£‡πÇ‡∏û‡∏™‡∏ï‡πå
4. **proposals** - ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏à‡πâ‡∏≤‡∏á
5. **reviews** - ‡∏£‡∏µ‡∏ß‡∏¥‡∏ß 2-way
6. **farm_calendar** - ‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°
7. **crop_schedules** - Template ‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô‡∏ï‡∏≤‡∏°‡∏û‡∏∑‡∏ä (‡∏°‡∏µ seed data: ‡∏Ç‡πâ‡∏≤‡∏ß, ‡∏≠‡πâ‡∏≠‡∏¢, ‡∏Ç‡πâ‡∏≤‡∏ß‡πÇ‡∏û‡∏î)
8. **messages** - ‡πÅ‡∏ä‡∏ó‡πÉ‡∏ô‡πÅ‡∏≠‡∏õ
9. **gov_api_cache** - Cache ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Gov APIs
10. **customers** (‡∏Ç‡∏¢‡∏≤‡∏¢) - ‡πÄ‡∏û‡∏¥‡πà‡∏° column `role`, `province`, `verified`

---

## üîê Security (RLS Policies)

‡∏ó‡∏∏‡∏Å table ‡∏°‡∏µ Row Level Security ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:

- ‚úÖ Users ‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á
- ‚úÖ ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà "open" ‡πÄ‡∏´‡πá‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô
- ‚úÖ Admins ‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
- ‚úÖ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• public (providers, reviews) ‡πÄ‡∏´‡πá‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô

---

## üìä Seed Data

**Crop Schedules** (‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏•‡∏±‡∏á migration):

- ‚úÖ ‡∏Ç‡πâ‡∏≤‡∏ß - 7 ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° (‡∏õ‡∏•‡∏π‡∏Å ‚Üí ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß 120 ‡∏ß‡∏±‡∏ô)
- ‚úÖ ‡∏≠‡πâ‡∏≠‡∏¢ - 6 ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° (‡∏õ‡∏•‡∏π‡∏Å ‚Üí ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß 365 ‡∏ß‡∏±‡∏ô)
- ‚úÖ ‡∏Ç‡πâ‡∏≤‡∏ß‡πÇ‡∏û‡∏î - 5 ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° (‡∏õ‡∏•‡∏π‡∏Å ‚Üí ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß 75 ‡∏ß‡∏±‡∏ô)

---

## üß™ ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### **Test User Flows**

#### 1. ‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏á‡∏≤‡∏ô

```
1. ‡πÄ‡∏Ç‡πâ‡∏≤ /farmer/dashboard
2. ‡∏Ñ‡∏•‡∏¥‡∏Å "‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏á‡∏≤‡∏ô"
3. ‡∏Å‡∏£‡∏≠‡∏Å‡∏ü‡∏≠‡∏£‡πå‡∏°:
   - ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏á‡∏≤‡∏ô: ‡∏û‡πà‡∏ô‡∏¢‡∏≤
   - ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà: 10 ‡πÑ‡∏£‡πà
   - ‡∏á‡∏ö: 1,500-2,000 ‡∏ö‡∏≤‡∏ó
4. Submit ‚Üí ‡∏î‡∏π‡πÉ‡∏ô /farmer/my-jobs
```

#### 2. ‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏à‡πâ‡∏≤‡∏á‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠

```
1. ‡πÄ‡∏Ç‡πâ‡∏≤ /provider/dashboard
2. ‡πÄ‡∏´‡πá‡∏ô‡∏á‡∏≤‡∏ô‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥
3. ‡∏Ñ‡∏•‡∏¥‡∏Å "‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠"
4. ‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏≤‡∏Ñ‡∏≤ + ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
5. Submit ‚Üí ‡∏î‡∏π‡πÉ‡∏ô /provider/my-proposals
```

#### 3. ‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠

```
1. ‡πÄ‡∏Ç‡πâ‡∏≤ /farmer/my-jobs
2. ‡πÄ‡∏´‡πá‡∏ô "‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠ 2 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£"
3. ‡∏Ñ‡∏•‡∏¥‡∏Å "‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠"
4. ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
5. ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô ‚Üí ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£"
```

---

## üé® UI/UX Design

### **Design System**

- **‡∏™‡∏µ‡∏´‡∏•‡∏±‡∏Å:**
  - ‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£: Green (#10B981)
  - ‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏à‡πâ‡∏≤‡∏á: Blue (#2563EB)
  - ‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô: Emerald (#059669)

- **Components:**
  - shadcn/ui components
  - Lucide React icons
  - Tailwind CSS

- **Mobile-First:**
  - Responsive design
  - ‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏ç‡πà (min 48px)
  - ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏™‡∏π‡∏á‡∏≠‡∏≤‡∏¢‡∏∏

---

## üöß TODO (Features ‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏£‡πá‡∏à)

### **Phase 1 (Critical)**
- [ ] Authentication (LINE Login + OTP)
- [ ] Upload ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û (Supabase Storage)
- [ ] ‡∏´‡∏ô‡πâ‡∏≤ Proposals detail (‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠)
- [ ] ‡∏´‡∏ô‡πâ‡∏≤ Send Proposal (‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏à‡πâ‡∏≤‡∏á‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠)
- [ ] Profile pages (Farmer + Provider)

### **Phase 2 (Important)**
- [ ] Farm Calendar (auto-generate)
- [ ] In-app Chat (Supabase Realtime)
- [ ] Review & Rating system
- [ ] Equipment Rental integration

### **Phase 3 (Nice to have)**
- [ ] Gov API (Weather, Crop prices)
- [ ] Payment Gateway (PromptPay)
- [ ] LINE Chatbot
- [ ] AI Crop Disease Detection
- [ ] Push Notifications

---

## üìû Support

- **Documentation:** ‡∏î‡∏π‡πÉ‡∏ô `/docs` (TODO)
- **API Docs:** ‡∏î‡∏π‡πÉ‡∏ô `/api-docs` (TODO)
- **Issues:** [GitHub Issues](#)

---

## üìù License

Private - SmartFarmer v2.0

---

## üéâ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

```bash
# 1. Install dependencies
npm install

# 2. Run migration on Supabase
# (‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå scripts/*.sql ‡πÑ‡∏õ‡∏£‡∏±‡∏ô‡πÉ‡∏ô SQL Editor)

# 3. Configure .env.local
# (‡∏Å‡∏£‡∏≠‡∏Å Supabase credentials)

# 4. Start development server
npm run dev

# 5. ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå
http://localhost:3000/farmer/dashboard
http://localhost:3000/provider/dashboard
```

**‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà SmartFarmer v2.0!** üåæüöÅ
